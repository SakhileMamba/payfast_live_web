<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://www.payfast.co.za/onsite/engine.js"></script>
</head>
<body>
    <script>
        // DO NOT MODIFY THE CODE BELOW
        
        // Retrieve the UUID from the URL query string
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const uuid = urlParams.get('uuid');
        const return_url = urlParams.get('return_url'); // -> capture your return url
        const cancel_url = urlParams.get('cancel_url'); // -> capture your cancel url

        window.payfast_do_onsite_payment({"uuid":uuid}, function (result) {
            if (result === true) {
                // Payment Completed
                location.href = decodeURIComponent(return_url); 
            }
            else {
                // Payment Cancelled
                location.href = decodeURIComponent(cancel_url); 
            }
        });
    </script>
</body>

</html>